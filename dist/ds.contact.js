(()=>{const e=document.getElementById("contact-form");e.reset();const t=document.getElementById("phone");let n="";const s=document.querySelector("textarea");let o=document.querySelector("span.comment-length");t.addEventListener("focusout",(()=>{t.value&&(r(t.value),t.value=n)})),s.addEventListener("input",(e=>{const t=e.target.getAttribute("maxlength"),n=e.target.value.length;if(n>=t)return console.log("You have reached the maximum number of characters.");o.innerHTML=`${n}/${t}`}));let a=document.querySelector("p.message");a.classList.add("d-none"),e.addEventListener("submit",(t=>{t.preventDefault();let n=new FormData(e);u(n)}));const r=e=>{let t=(""+e).replace(/\D/g,"");console.log(t);let s=t.match(/^(\d{2})(\d{2})(\d{2})(\d{2})(\d{2})$/);s.shift(),n=s.join("-")},c=()=>{setTimeout((()=>{a.classList.add("d-none")}),3e3)},u=t=>{fetch("https://ds-eportfolio.herokuapp.com/send",{method:"post",body:t}).then((()=>{a.setAttribute("class","uppercase message"),a.innerHTML="Votre demande a été envoyée avec succès !<br />Vous recevrez une réponse par mail sous peu.",c(),e.reset()})).catch((()=>{a.setAttribute("class","uppercase message"),a.innerHTML="Votre demande n'a pas pu être envoyée !<br />Veuillez recommencer.",c()}))}})();